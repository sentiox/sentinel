# MBzeGuard

**MBzeGuard** ‚Äî —É–º–Ω—ã–π VPN-–ø—Ä–æ–∫—Å–∏ –¥–ª—è OpenWrt —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π —Ç—Ä–∞—Ñ–∏–∫–∞.

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –±–∞–∑–µ [sing-box](https://github.com/SagerNet/sing-box) –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ —á–µ—Ä–µ–∑ VPN-–ø–æ–¥–ø–∏—Å–∫–∏.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ø—Ä–æ–∫—Å–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ VPN-–ø–æ–¥–ø–∏—Å–æ–∫ (Remnawave, XRAY_BASE64 –∏ –¥—Ä—É–≥–∏–µ –ø–∞–Ω–µ–ª–∏)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (URLTest)
- ‚úÖ –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä —Å—Ç—Ä–∞–Ω—ã —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- ‚úÖ HWID –¥–ª—è –ø–∞–Ω–µ–ª–µ–π —Å –ª–∏–º–∏—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ –°–µ–ª–µ–∫—Ç–∏–≤–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ –¥–æ–º–µ–Ω–∞–º –∏ –ø–æ–¥—Å–µ—Ç—è–º
- ‚úÖ Community —Å–ø–∏—Å–∫–∏ –¥–æ–º–µ–Ω–æ–≤ (Telegram, Discord, Meta, Google Play –∏ –¥—Ä.)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–ø–∏—Å–∫–∏ –¥–æ–º–µ–Ω–æ–≤
- ‚úÖ FakeIP DNS –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤

### –£–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

MBzeGuard —Ä–∞–±–æ—Ç–∞–µ—Ç —É–º–Ω–µ–µ –æ–±—ã—á–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏-—Ä–µ—à–µ–Ω–∏–π:

#### üß† –£–º–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±–æ—Ä —Å—Ç—Ä–∞–Ω—ã –≤ `/etc/sentinel/selector_*` –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ Clash API –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ sing-box. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Unicode (üá∏üá™ –®–≤–µ—Ü–∏—è‚ö°).

#### üß† –£–º–Ω—ã–π —Å—Ç–∞—Ä—Ç DNS
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤—Ä–µ–º–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç 8.8.8.8 –∫–∞–∫ fallback DNS, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É, –∑–∞—Ç–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ sing-box (127.0.0.42).

#### üß† –£–º–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç MD5-—Ö–µ—à –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ sing-box. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å ‚Äî –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –æ—Å—Ç–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏.

#### üß† –£–º–Ω—ã–π failover —Å –∞–≤—Ç–æ–≤–æ–∑–≤—Ä–∞—Ç–æ–º
–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–æ–≤. –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –ø–æ—Å–ª–µ 5+ —á–∞—Å–æ–≤ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ–≥–æ. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã.

#### üß† –£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ Unicode
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç `jq` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è JSON-–∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç–º–æ–¥–∑–∏ –∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—É –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –ø—Ä–æ–∫—Å–∏.

#### üß† –£–º–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Clash API
–ñ–¥–µ—Ç –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–∫—Å–∏ –≤ Clash API (`jq -e '.proxies | length > 0'`) –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤—ã–±–æ—Ä–∞, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è —á—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è.

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```bash
sh <(wget -O - https://raw.githubusercontent.com/sentiox/sentinel/refs/heads/main/install.sh)
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–≤–µ—Ä—Å–∏—è OpenWrt, —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ, DNS)
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç sing-box, dnsmasq –∏ nftables
- –°–∫–∞—á–∏–≤–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É
- –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç—É –∂–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫.

---

## üîß –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **OpenWrt:** –≤–µ—Ä—Å–∏—è **24.10** –∏–ª–∏ –Ω–æ–≤–µ–µ (23.05 –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
- **–ü–∞–º—è—Ç—å:** –º–∏–Ω–∏–º—É–º **25 –ú–ë** —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **Sing-box:** –≤–µ—Ä—Å–∏—è **1.12.4** –∏–ª–∏ –Ω–æ–≤–µ–µ
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:** –∞–∫—Ç–∏–≤–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã

–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–¥–∞–ª–∏—Ç—å:
- `https-dns-proxy`
- `nextdns`
- `luci-app-passwall`
- `luci-app-passwall2`

–°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤.

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://192.168.1.1/cgi-bin/luci/admin/services/sentinel
```

**–í–∞–∂–Ω–æ:** Dashboard —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ HTTP (–∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π Clash API). –ü—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –ø–æ HTTPS –∏–ª–∏ –¥–æ–º–µ–Ω—É Dashboard –Ω–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω.

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
sentinel start

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
sentinel stop

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sentinel restart

# –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã
sentinel global_check

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sentinel check_logs

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
sentinel subscription_update

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –¥–æ–º–µ–Ω–æ–≤
sentinel list_update

# –ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é
sentinel show_version
```

---

## ‚öôÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è cron-–∑–∞–¥–∞—á–∏:

- **Failover check:** –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã (`*/2 * * * *`)
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤:** –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 9:13 (`13 9 * * *`)
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏:** –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 9:43 (`43 9 * * *`)

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–¥–∞—á–∏: `crontab -l | grep sentinel`

---

## ‚ö†Ô∏è –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
- MBzeGuard —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é **dnsmasq** –∏ **sing-box**
- –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤–∞—à —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ñ–∏–≥ sing-box, –µ—Å–ª–∏ –æ–Ω –≤–∞–∂–µ–Ω
- –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è
- –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** —Å–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+F5)

---

## üõ†Ô∏è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É:
   ```bash
   sentinel global_check
   ```

2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏:
   ```bash
   sentinel check_logs
   logread | grep sentinel | tail -50
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:
   ```bash
   nslookup google.com 127.0.0.42
   ```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å sing-box:
   ```bash
   ps | grep sing-box
   ```

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **Proxy engine:** [sing-box](https://github.com/SagerNet/sing-box)
- **DNS:** FakeIP —á–µ—Ä–µ–∑ sing-box –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–µ–∑–æ–ª–≤–∏–Ω–≥–∞
- **Routing:** nftables —Å tproxy –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- **API:** Clash API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏
- **Config management:** UCI (OpenWrt)

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –ö–æ–º–∞–Ω–¥–µ [sing-box](https://github.com/SagerNet/sing-box)
- –°–æ–æ–±—â–µ—Å—Ç–≤—É OpenWrt
- –í—Å–µ–º –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–∞–º –ø—Ä–æ–µ–∫—Ç–∞

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **GitHub Issues:** https://github.com/sentiox/sentinel/issues
- **Community —Å–ø–∏—Å–∫–∏:** https://github.com/sentiox/allow-domains
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞:** https://t.me/MBzeGuardHelpBot

---

**–í–µ—Ä—Å–∏—è:** 0.0.1
**–°—Ç–∞—Ç—É—Å:** Beta

[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/sentiox/sentinel)
